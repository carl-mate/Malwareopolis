package com.mygdx.game;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.scenes.scene2d.ui.TextButton;
import com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable;

public class CardButton extends TextButton {
    private TextButton.TextButtonStyle cardButtonStyle =  new TextButton.TextButtonStyle();
    private int yellowCapsuleDemand;
    private String buttonRealText;

    private void initStyle(String textureName){
        Texture upButtonTex = new Texture(Gdx.files.internal(String.format("%s.png", textureName)));
        Texture downButtonTex = new Texture(Gdx.files.internal(String.format("%s-mono.png", textureName)));

        cardButtonStyle.up = new TextureRegionDrawable(upButtonTex);
        cardButtonStyle.down = new TextureRegionDrawable(downButtonTex);
        cardButtonStyle.disabled = new TextureRegionDrawable(downButtonTex);
        cardButtonStyle.font = BaseGame.uiFont;
    }

    CardButton(String name) {
        super("", new TextButtonStyle(null, null, null, new BitmapFont()));
        String[] characteristics = name.split("_");

        buttonRealText = characteristics[0];
        if (characteristics.length != 1) {
            yellowCapsuleDemand = Integer.valueOf(characteristics[1]);
        } else{
            yellowCapsuleDemand = 0;
        }

        initStyle(buttonRealText);
        setStyle(cardButtonStyle);
    }

    public int getYellowCapsuleDemand() {
        return yellowCapsuleDemand;
    }

    public String getButtonRealText() {
        return buttonRealText;
    }

}
