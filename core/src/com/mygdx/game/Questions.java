package com.mygdx.game;

import com.badlogic.gdx.Gdx;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Random;

import util.QuestionsManager;
import util.QuestionsManager.Question;

public class Questions {
    public static final String TAG = Questions.class.getName();

    private ArrayList<Question> questionsArrayList;
    private Question[] question;
    private int questionsCounter;


    public Questions() throws IOException{
        QuestionsManager.instance.init();

        questionsArrayList = QuestionsManager.instance.getQuestionsArrayList();
        /*
            questions are ordered from 0 - 4 i.e. Very Easy - Very Hard respectively
            index 0, 1 = Very Easy
            index 2, 3 = Easy
            index 4, 5 = Medium
            index 6, 7 = Hard
            index 8, 9 = Very Hard
            index 10 = Mystery Question
         */
        question = new Question[11];

        //shuffle total pool of questions to ensure randomness
        Collections.shuffle(questionsArrayList);

        initQuestions();
    }

    public void initQuestions(){
        for (Question x : questionsArrayList) {
            if(questionsCounter < 10){
                if (x.getDifficulty().equals("VERY EASY") && question[0] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION VERY EASY");
                    question[0] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("VERY EASY") && question[1] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION VERY EASY");
                    question[1] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("EASY") && question[2] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION EASY");
                    question[2] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("EASY") && question[3] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION EASY");
                    question[3] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("MEDIUM") && question[4] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION MEDIUM");
                    question[4] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("MEDIUM") && question[5] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION MEDIUM");
                    question[5] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("HARD") && question[6] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION HARD");
                    question[6] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("HARD") && question[7] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION HARD");
                    question[7] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("VERY HARD") && question[8] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION VERY HARD");
                    question[8] = x;
                    questionsCounter++;
                }
                if (x.getDifficulty().equals("VERY HARD") && question[9] == null) {
                    Gdx.app.log(TAG, "ADDED QUESTION VERY HARD");
                    question[9] = x;
                    questionsCounter++;
                }
            } else if(questionsCounter == 10){
                // Randomly select a question for the Mystery Question from the total pool of questions.
                Gdx.app.log(TAG, "ADDED MYSTERY QUESTION");
                Random rand = new Random();
                question[10] = questionsArrayList.get(rand.nextInt(questionsArrayList.size()));
                return;
            }
        }
    }

    public Question[] getQuestions(){
        return this.question;
    }

    public ArrayList<Question> getQuestionsArraylist(){
        return this.questionsArrayList;
    }


}
